"use strict";(self.webpackChunkmilkyhoop_frontend=self.webpackChunkmilkyhoop_frontend||[]).push([[785],{785:(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});var l=t(555),r=t(43),a=t(216),i=t(579);const n=()=>{const e=(0,a.Zp)(),{tenantId:s}=(0,a.g)(),[t,n]=(0,r.useState)(""),[d,c]=(0,r.useState)(null),[o,m]=(0,r.useState)(!0),[x,h]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{if(s)try{const t=await fetch("/api/tenant/".concat(s,"/info"));if(!t.ok)throw new Error("Tenant not found");const r=await t.json();let a=r.data.menu_items;if("string"===typeof a)try{a=JSON.parse(a)}catch(e){a=[]}c((0,l.A)((0,l.A)({},r.data),{},{menu_items:Array.isArray(a)?a:[]}))}catch(t){h("Tenant not found")}finally{m(!1)}})()},[s]);const u=t=>{t.trim()&&e("/".concat(s,"/chat"),{state:{initialMessage:t.trim()}})};return o?(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):x||!d?(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"404"}),(0,i.jsx)("p",{className:"text-gray-600 mb-4",children:"Tenant not found"}),(0,i.jsx)("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Go Home"})]})}):(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,i.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,i.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,i.jsx)("button",{onClick:()=>e("/"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,i.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("h1",{className:"text-xl font-bold",children:d.display_name}),(0,i.jsx)("div",{className:"w-8 h-8 bg-purple-400 rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-white font-bold text-sm",children:d.display_name.substring(0,2).toUpperCase()})})]}),(0,i.jsx)("div",{className:"w-6"})]})}),(0,i.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6 pb-24",children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,i.jsx)("div",{className:"w-16 h-16 bg-purple-600 rounded-xl flex items-center justify-center",children:(0,i.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:(0,i.jsx)("div",{className:"text-purple-600 font-bold text-sm",children:d.display_name.substring(0,2).toUpperCase()})})}),(0,i.jsx)("div",{children:(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:d.display_name})})]}),(0,i.jsx)("div",{className:"relative mb-6",children:(0,i.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-8 text-white",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("h3",{className:"text-xl font-semibold mb-2",children:["Welcome to ",d.display_name]}),(0,i.jsx)("p",{className:"text-purple-100",children:"Chat with us to get started"})]}),(0,i.jsx)("div",{className:"w-32 h-20 bg-white/20 rounded-lg flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-16 h-10 bg-white/30 rounded mb-2"}),(0,i.jsx)("div",{className:"text-xs",children:"Chat Now"})]})})]})})})]}),d.menu_items&&d.menu_items.length>0?(0,i.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:d.menu_items.map((e,s)=>(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[(0,i.jsx)("div",{className:"w-full h-24 bg-gradient-to-br from-purple-500 to-purple-700 rounded-lg mb-3 flex items-center justify-center",children:(0,i.jsx)("div",{className:"text-white text-sm font-medium text-center",children:e.name||e.service||"Item"})}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:e.price?"Rp ".concat(e.price.toLocaleString()):e.desc||"Available"})]},s))}):(0,i.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[{title:"Product 1",desc:"Available"},{title:"Product 2",desc:"Available"},{title:"Product 3",desc:"Available"},{title:"Product 4",desc:"Available"}].map((e,s)=>(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[(0,i.jsx)("div",{className:"w-full h-24 bg-gradient-to-br from-purple-500 to-purple-700 rounded-lg mb-3 flex items-center justify-center",children:(0,i.jsx)("div",{className:"text-white text-sm font-medium text-center",children:e.title})}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:e.desc})]},s))})]}),(0,i.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg",children:(0,i.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-purple-400 rounded-full flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-white font-bold text-sm",children:"m"})}),(0,i.jsxs)("div",{className:"flex-1 relative",children:[(0,i.jsx)("input",{value:t,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u(t))},placeholder:"Chat dengan ".concat(d.display_name,"..."),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,i.jsx)("button",{onClick:()=>u(t),disabled:!t.trim(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:(0,i.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})})})]})}}}]);
//# sourceMappingURL=785.1ed4e9f2.chunk.js.map